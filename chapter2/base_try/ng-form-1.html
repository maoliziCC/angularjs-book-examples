<html ng-app="myApp">

<head>
    <meta charset="utf-8">
    <script src="http://apps.bdimg.com/libs/angular.js/1.4.6/angular.min.js"></script>
    <title>ng-form动态表单例子</title>
</head>

<body>
    <form name="signup_form" ng-controller="FormController" ng-submit="submitForm()" novalidate>
        <div ng-repeat="field in fields" ng-form="signup_form_input">
            <input type="text" name="dynamic_input" ng-required="field.isRequired" ng-model="field.name" placeholder="{{field.placeholder}}"
            />
            <div ng-show="signup_form_input.dynamic_input.$dirty &&
        signup_form_input.dynamic_input.$invalid">
                <span class="error" ng-show="signup_form_input.dynamic_input.$error.required">
                    The field is required.
                </span>
            </div>
        </div>
        <button type="submit" ng-disabled="signup_form.$invalid">
            Submit All
        </button>
    </form>
</body>
<script>
    angular.module('myApp', [])
        .controller('FormController', function ($scope) {
            //硬编码的JSON数据，把它假设成是从服务器返回的
            $scope.fields = [
                { placeholder: 'Username', isRequired: true },
                { placeholder: 'Password', isRequired: true },
                { placeholder: 'Email (optional)', isRequired: false }
            ];
            $scope.submitForm = function () {
                alert("it works!");
            };
        });


</script>
<style>
    input.ng-invalid {
        border: 1px solid red;
    }

    input.ng-valid {
        border: 1px solid green;
    }
</style>

</html>